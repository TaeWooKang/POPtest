<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
</head>

<body>
<div>
    <form method="post">
        <div style="border:2px">
            {% csrf_token %}
            <tr>
                <td>아이디<br>
                    <input type="text" name="user_id"></td>
                <td>
                    <input type="button" value="중복확인" onclick="ID_check()"><br>
                </td>
            </tr>
            <td>비밀번호<br>
                <input type="text" name="user_pwd"></td>
            <br>
            <tr>
                <td>비밀번호 재확인<br>
                    <input type="text" name="re_user_pwd"></td>
                <br>
            </tr>
            <td>이름<br>
                <input type="text" name="user_name"></td>
            <br>
            <tr>
                <td>생년월일<br>
                    (ex 19000101)<br>
                    <input type="text" name="user_birth"></td>
                <br>
            </tr>

            <tr>
                <td>성별<br>
                    남자<input type="radio" name="user_gender" value="man">
                    여자<input type="radio" name="user_gender" value="woman"><br>
            </tr>
            <tr>
                <td>이메일 주소<br>
                    <input type="text" name="user_email"></td>
                <br>
            </tr>
            <tr>
                <td>휴대전화<br>
                    <input type="text" name="user_phone"></td>
                <br>
            </tr>
        </div>
        <input type="submit" value="가입">
    </form>
</div>
</body>
</html>

{% load static %}
<!--<script src="{% static 'js/jquery.min.js' %}"></script>-->
<script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
<script>
    //아이디 중복 확인

    function ID_check() {
        user_id = $('input[name=user_id]').val()
        ct = $('input[name=csrfmiddlewaretoken]').val()
        $.ajax({

        url:'{% url 'ID_check' %}',
        type: 'post',

        data: {
            'user_id': user_id,
            'csrfmiddlewaretoken' : ct
        },

        success: function(res){
            alert(res.msg)
        }

        })
    }
</script>